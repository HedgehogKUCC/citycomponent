!function(t){function e(e){for(var a,i,s=e[0],u=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);for(f&&f(e);p.length;)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,s=1;s<r.length;s++){var u=r[s];0!==n[u]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={0:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var f=u;o.push([121,1]),r()}({121:function(t,e,r){"use strict";r.r(e);r(122),r(126);function a(t,e,r,a,n,o,i){try{var s=t[o](i),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(a,n)}new Vue({el:"#app",data:{data:[],location:[],stared:[],filter:"",staredLocalStor:JSON.parse(localStorage.getItem("staredData"))||[]},methods:{fetchAsync:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=4,fetch("https://cors-anywhere.herokuapp.com/http://opendata2.epa.gov.tw/AQI.json");case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,r.data=n,o=[],r.data.forEach((function(t){return o.push(t.County)})),r.location=o.filter((function(t,e,r){return r.indexOf(t)===e})),r.staredLocalStor.forEach((function(t){r.data.forEach((function(e){t===e.SiteName&&r.stared.push(e)}))}));case 13:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){a(i,n,o,s,u,"next",t)}function u(t){a(i,n,o,s,u,"throw",t)}s(void 0)}))})()},setStared:function(t){var e=this;-1===e.stared.indexOf(t)?e.stared.push(t):e.stared.splice(e.stared.indexOf(t),1),e.staredLocalStor=e.stared.map((function(t){return t.SiteName})),localStorage.setItem("staredData",JSON.stringify(e.staredLocalStor))}},computed:{filterArray:function(){var t=this;return""===t.filter?t.data:t.data.filter((function(e){return e.County===t.filter}))}},created:function(){this.fetchAsync()}});Vue.component("card-component",{template:"#cardComponentTemplate",props:["cardData","stared"],computed:{cardColor:function(){switch(this.cardData.Status){case"普通":return"status-aqi2";case"對敏感族群不健康":return"status-aqi3";case"對所有族群不健康":return"status-aqi4";case"非常不健康":return"status-aqi5";case"危害":return"status-aqi6";default:return""}},starColor:function(){return-1===this.stared.indexOf(this.cardData)?"far":"fas"}},methods:{clickStar:function(){this.$emit("change-star",this.cardData)}}})},122:function(t,e,r){var a=r(123),n=r(124);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1},i=(a(n,o),n.locals?n.locals:{});t.exports=i},124:function(t,e,r){(e=r(125)(!1)).push([t.i,"body{padding:0;margin:5% auto;max-width:1024px;box-sizing:border-box;font-family:monospace, sans-serif}#app{width:100%}@media (max-width: 1023px){#app{padding:0 10px}}@media (max-width: 575px){h1{font-size:2rem}}.status-aqi2{background-color:#ffff00}.status-aqi3{background-color:#ff7e00}.status-aqi4{background-color:#ff0000}.status-aqi5{background-color:#8f3f97}.status-aqi6{background-color:#7e0023}\n",""]),t.exports=e}});